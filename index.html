<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dracula Castle</title>
    <link rel="stylesheet" href="css/style.css">
    
    <style>
        body {
          background-image: url('img/castlevania-symphony-of-the-night.webp');
        }

        #ball{
            background: red;
            -moz-border-radius: 50px;
            -webkit-border-radius: 50px;
            border-radius: 50px;
            width: 50px;
            height: 50px;
            position: absolute;
	    }

        
    </style>
</head>

<body onDocumentReady="onload();">
    
    <audio controls autoplay loop>
        <source src="music/悲境の貴公子.mp3" type="audio/mp3">
    </audio>
    <h1>Dracula Castle</h1>
    <p>Ha ha ha ha ha ha ha...</p>

    <a href="page/maze.html">castle entrance</a>
    <a href="page/xlovesy/xLovesY.html">x loves y</a>

    <div id="screen">
        <div id="ball">

        </div>
   </div>

   <script>
       var width = 1350;
       var height =500;
       var topVal=300;
       var leftVal=0;
       var dx=10;
       var dy=10;
       var ballWidth=50;
       var ballHeight=50;
       var topNegative=false;
       var leftNegative=false;
       var gravity=2;
       var ball = document.getElementById("ball");
       function gameLoop() {
        moveBall()
       }


       function game() {
        setInterval(gameLoop, 50);
       }

       function moveBall(){
           console.log(leftVal, topVal,dy,gravity)
           ball.style.top=topVal+'px';
           ball.style.left=leftVal+'px';

           totalHeight=topVal+ballHeight;
           totalWidth=leftVal+ballWidth;

           if(dy==0){
               dy=gravity;
           }
           if (topVal>=height){
               dy*=-1;	
               topVal-=topVal-height
           }
           if(totalWidth>=width){
               if((dx>0 && dy<0)|| (dx>0 && dy>0)){
                   dx*=-1;
               }
           }
           if(leftVal<=0 && topVal!=0 ){
               if((dx<0 && dy>0)||(dx<0 && dy<0)){
                   dx*=-1;
               }
           }
           dy+=gravity;
           topVal=topVal+dy
           leftVal+=dx;
       }
       game();

       
   </script>

</body>
</html> 